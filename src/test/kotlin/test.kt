import com.fasterxml.jackson.databind.JavaType
import com.fasterxml.jackson.module.kotlin.jacksonObjectMapper
import com.fasterxml.jackson.module.kotlin.readValue
import java.io.File
import java.io.FileInputStream
import java.lang.StringBuilder
import java.nio.file.FileSystems
import java.nio.file.Files
import kotlin.streams.toList

fun main(args: Array<String>) {
    val shopcartGoodsIds = listOf(1168376332294,1168321282097,1168321282093,1168253648900,1168361652229,1168252600341,1168311320585,1168251027561,1168265707532,1168245260296,1168259940366,1168351166466,1168312893450,1168308699140,1168310272003,1168487481346,1168333340675,1168396779523,1168244211722,1168310272030,1168242114565,1168392585219,1168388915204,1168296640522,1168244211719,1168252600323,1168392585239,1168264658967,1168290873345,1168419848228,1168293494803,1168347496449,1168455499785,1168455499786,1168455499778,1168455499777,1168244736003,1168303456261,1168310272008,1168248406026,1168310272001,1168389439492,1168344875018,1168293494794,1168364797966,1168298213381,1168310272031,1168485908484,1168343302146,1168311844900,1168245260313,1168291921921,1168248406062,1168675176458,1168311844869,1168311844883,1168318136328,1168511074307,1168296640517,1168675176450,1168308699137,1168308699147,1168260988936,1168260464646,1168243163140,1168232677384,1168323379209,1168344875017,1168344875009,1168232677380,1168540958725,1168410935298,1168467034113,1168235298831,1168234250253,1168235823107,1168235823108,1168351166470,1168250503170,1168324427779,1168570318855,1168296640551,1168381575177,1168316039190,1168635330561,1168251027497,1168251027494,1168245260301,1168316039193,1168381575194,1168311844871,1168511074306,1168251027568,1168462315523,1168257318922,1168257318917,1168251027536,1168251027574,1168251027558,1168419848201,1168473325571,1168374759492,1168348545025,1168452354052,1168452354050,1168321282070,1168321282069,1168251027533,1168266231810,1168361652231,1168317087752,1168317087751,1168251027741,1168251027569,1168233201667,1168319184901,1168251027463,1168317087745,1168509501442,1168264658954,1168259940359,1168257318921,1168235298823,1168369516572,1168310272023,1168248406028,1168310272029,1168266756098,1168310272032,1168511598594,1168314990594,1168630087683,1168266231816,1168251551749,1168243687425,1168318136374,1168318136381,1168244211724,1168257318913,1168259940370,1168318136322,1168318136337,1168318136352,1168317087748,1168675176457,1168244211729,1168511074305,1168312369164,1168251027556,1168292970499,1168235298832,1168324427778,1168419848237,1168365322243,1168309223430,1168329146374,1168235823105,1168378953730,1168235298837,1168242638849,1168455499783,1168455499781,1168374759432,1168251027561,1168313417731,1168251027479,1168321282071,1168251027460,1168251027734,1168315514899,1168243687430,1168266231809,1168251551759,1168341204993,1168265707521,1168307650562,1168243687430,1168307650562,1168318136324,1168376856580,1168310272010,1168310272017,1168323379201,1168332292101,1168332292099,1168296640516,1168308174849,1168308174850,1168290349092,1168248406020,1168310272027,1168365322242,1168323379215,1168259940356,1168259940369,1168251027459,1168259940353,1168521560065,1168248406025,1168248406031,1168338059270,1168263086083,1168376332291,1168292970498,1168365322249,1168365322245,1168365322241,1168516317210,1168513171458,1168419848317,1168419848197,1168473325569,1168419848198,1168759586821,1168647389197,1168251027555,1168244736008,1168264658951,1168419848314,1168251027485,1168760111107,1168381575233,1168318136347,1168455499787,1168251551747,1168410935301,1168532045828,1168438198274,1168419848329,1168246833156,1168243687426,1168411983920,1168411983921,1168381575186,1168363749383,1168327573505,1168266756097,1168248406018,1168249454599,1168249454606,1168249454593,1168249454616,1168254697474,1168338059269,1168251551755,1168240541701,1168373186600,1168295067675,1168235298830,1168294543366,1168294543363,1168294543364,1168235298822,1168315514900,1168253648899,1168383148041,1168284581915,1168251027484,1168488529925,1168488529926,1168244211739,1168268328966,1168265707531,1168293494790,1168374759432,1168318136329,1168381575182,1168243687431,1168243687432,1168406216705,1168377380866,1168634806273,1168244211720,1168241065988,1168241065989,1168381575187,1168381575171,1168364797954,1168268328961,1168927883265,1168374759427,1168374759432,1168265183234,1168324427777,1168330194945,1168392585221,1168392585238,1168381575190,1168298213383,1168374759471,1168376856582,1168376856590,1168540958721,1168324427780,1168419323907,1168396779522,1168419848365,1168419848285,1168419848286,1168419848366,1168381575180,1168895901700,1168419848303,1168374759427,1168250503169,1168248930305,1168392585219,1168392585221,1168392585223,1168392585217,1168374759471,1168419323906,1168419323909,1168284581909,1168365322247,1168365322274,1168365322276,1168365322286,1168365322250,1168307650562,1168290873353,1168290873348,1168251027479,1168251027476,1168419848194,1168419848345,1168419323908,1168756965377,1168381575176,1168540958724,1168540958722,1168298213379,1168243687430,1168251027562,1168251027559,1168375283713,1168240541698,1168248406017,1168251027523,1168251027742,1168251027736,1168251027526,1168321282071,1168249454596,1168419848239,1168410935297,1168248930307,1168392585217,1168410935302,1168410935300,1168540958723,1168251027549,1168381575179,1168313417731,1168251027461,1168251027469,1168251027486,1168251027502,1168455499779,1168265707529,1168266231809,1168268328969,1168364797963,1168488529921,1168419848342,1168407789604,1168407789616,1168407789607,1168381575169,1168381575210,1168381575198,1168407789602,1168419848243,1168419848279,1168642670600,1168556163076,1168419848227,1168402022401,1168904814594,1168579756038,1168579756037,1168894853121,1168251027460,1168244211727,1168251027501,1168381575181,1168381575188,1168410935299,1168419848280,1168419848316,1168419848242,1168419848282,1168795238402,1168419848281,1168642670599,1168309747714,1168376856592,1168761159682,1168346972248,1168558784513,1168234774600,1168242638851,1168256270337,1168256270343,1168244736009,1168244736013,1168244736010,1168244736014,1168295067668,1168256270383,1168256270347,1168351166473,1168392585235,1168323379208,1168323379206,1168268328964,1168321282075,1168243687430,1168265707521,1168263086094,1168249454597,1168254697499,1168285106178,1168318136327,1168318136340,1168318136346,1168392585234,1168335437826,1168419848358,1168369516550,1168310272024,1168419848203,1168338059275,1168264658972,1168264658948,1168293494789,1168488529949,1168248406025,1168307650562,1168248930308)

    val fileSystem = FileSystems.getDefault()
    val stringBuilder = StringBuilder()
    Files.newBufferedReader(fileSystem.getPath("O:\\goods.json")).use {
        it.lines()
                .peek { line -> stringBuilder.append(line).append(System.lineSeparator()) }
                .toList()
    }
    println("shopcartGoodsIds.size=${shopcartGoodsIds.size}")

    val dataBean = JsonUtils.deserialize<DataBean>(stringBuilder.toString())
    val a =shopcartGoodsIds - dataBean!!.data!!.map { it.goodsId }
    println(a)
}

class DataBean(){
    var data:List<Goods>    ?= null
}

class Goods(){
    var goodsId:Long? = null
}
